<!-- blog/templates/blog/post_form.html -->
{% extends "blog/base.html" %}
{% block title %}
  {% if form.instance.pk %}Edit: {{ form.instance.title }}{% else %}New Post{% endif %}
{% endblock %}
{% block content %}
<h1>{% if form.instance.pk %}Edit Post{% else %}Create Post{% endif %}</h1>

<form method="post">
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div>
    {{ form.title.label_tag }}<br>
    {{ form.title }}
    {{ form.title.errors }}
  </div>
  <div>
    {{ form.content.label_tag }}<br>
    {{ form.content }}
    {{ form.content.errors }}
  </div>
  <div>
    {{ form.published.label_tag }}
    {{ form.published }}
  </div>
  <button type="submit">Save</button>
  <a href="{% if form.instance.pk %}{% url 'blog:post-detail' form.instance.pk %}{% else %}{% url 'blog:post-list' %}{% endif %}">Cancel</a>
</form>
{% endblock %}
